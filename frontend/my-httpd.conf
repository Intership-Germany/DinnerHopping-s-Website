# Custom Apache configuration for DinnerHopping frontend inside the Docker image.
# The container is typically served behind a reverse proxy, so keep the vhost flexible.

<VirtualHost *:80>
    ServerName localhost
    ServerAlias dinnerhoppings.acrevon.fr www.dinnerhoppings.acrevon.fr
    UseCanonicalName Off

    DocumentRoot "/usr/local/apache2/htdocs"

    <Directory "/usr/local/apache2/htdocs">
        AllowOverride All
        Require all granted
        Options FollowSymLinks
    </Directory>

    ErrorLog "/usr/local/apache2/logs/frontend_error.log"
    CustomLog "/usr/local/apache2/logs/frontend_access.log" combined

    # Keep redirects host-agnostic to avoid forcing a specific hostname for remote visitors
    <IfModule mod_rewrite.c>
        RewriteEngine On

        # Redirect explicit /index.html to site root on the SAME host
        RewriteCond %{REQUEST_URI} ^/index\.html$
        RewriteRule ^.*$ / [R=302,L]
    </IfModule>
</VirtualHost>
